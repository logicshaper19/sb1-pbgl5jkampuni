(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728],{69124:(e,s,t)=>{Promise.resolve().then(t.bind(t,90165))},78030:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:d="",children:o,iconNode:m,...x}=e;return(0,a.createElement)("svg",{ref:s,...n,width:r,height:r,stroke:t,strokeWidth:i?24*Number(c)/Number(r):c,className:l("lucide",d),...x},[...m.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(o)?o:[o]])}),i=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:i,...d}=t;return(0,a.createElement)(c,{ref:n,iconNode:s,className:l("lucide-".concat(r(e)),i),...d})});return t.displayName="".concat(e),t}},16463:(e,s,t)=>{"use strict";var a=t(71169);t.o(a,"notFound")&&t.d(s,{notFound:function(){return a.notFound}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},90165:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(57437),r=t(16463),l=t(2265),n=t(87138);let c=(0,t(78030).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function i(){var e;let s=(0,r.useSearchParams)(),t=null!==(e=null==s?void 0:s.get("q"))&&void 0!==e?e:"",[i,d]=(0,l.useState)([]),[o,m]=(0,l.useState)(!0),[x,u]=(0,l.useState)(null);return((0,l.useEffect)(()=>{(async function(){if(!t){d([]);return}m(!0);try{let e=await fetch("/api/companies/search?q=".concat(encodeURIComponent(t)));if(!e.ok)throw Error("Failed to fetch results");let s=await e.json();d(s.results)}catch(e){console.error("Search failed:",e),u("Failed to load search results")}finally{m(!1)}})()},[t]),o)?(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Results Found"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[i.length," companies match your query"]})]}),(0,a.jsx)("button",{className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Export results"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[i.map(e=>{var s;return(0,a.jsx)(n.default,{href:"/companies/".concat(e.id),className:"block bg-white shadow rounded-lg hover:shadow-md transition-shadow",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"ml-2 inline-block w-2 h-2 rounded-full ".concat("ACTIVE"===e.status?"bg-green-400":"bg-yellow-400")})]}),(0,a.jsxs)("div",{className:"mt-2 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Company Number"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:e.registrationNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Registration Date"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:new Date(e.registrationDate).toLocaleDateString()})]}),"string"==typeof e.address?(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:e.address})]}):(null===(s=e.address)||void 0===s?void 0:s.postalCode)&&(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"".concat(e.address.street||"",", ").concat(e.address.city||""," ").concat(e.address.postalCode)})]})]}),e.directors&&Array.isArray(e.directors)&&e.directors.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Directors"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.directors.map(e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.name},e.id))})]})]}),(0,a.jsx)(c,{className:"h-5 w-5 text-gray-400"})]})})},e.id)}),0===i.length&&!o&&(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsxs)("p",{className:"text-gray-500",children:['No companies found matching "',t,'"']})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[138,130,215,744],()=>s(69124)),_N_E=e.O()}]);