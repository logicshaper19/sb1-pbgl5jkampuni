(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{63793:(e,t,r)=>{Promise.resolve().then(r.bind(r,38203))},78030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:i?24*Number(c)/Number(s):c,className:n("lucide",o),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...o}=r;return(0,a.createElement)(c,{ref:l,iconNode:t,className:n("lucide-".concat(s(e)),i),...o})});return r.displayName="".concat(e),r}},74232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(78030).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},24241:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(78030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},76780:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(78030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},54817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(78030).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},16463:(e,t,r)=>{"use strict";var a=r(71169);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},38203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(57437),s=r(2265),n=r(16463),l=r(74232),c=r(24241),i=r(76780);function o(e){let{results:t}=e,r=(0,n.useRouter)();return t?Array.isArray(t)&&0!==t.length?(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsx)("div",{onClick:()=>{console.log("Navigating to:","/companies/".concat(e.id)),r.push("/companies/".concat(e.id))},className:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",children:(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{children:["Registration: ",e.registrationNumber]})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{children:["Registered: ",new Date(e.registrationDate).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{children:["Status: ",e.status]})]})]})]})})},e.id))}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No companies found. Try a different search term."}):null}var d=r(54817);function u(){let e=(0,n.useSearchParams)(),[t,r]=(0,s.useState)((null==e?void 0:e.get("q"))||""),[l,c]=(0,s.useState)([]),[i,u]=(0,s.useState)(!1),[h,m]=(0,s.useState)(null),x=(0,s.useCallback)(async e=>{if(!e||e.length<2){c([]);return}u(!0),m(null);try{let t=await fetch("/api/companies/search?q=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Search failed");let r=await t.json();c(r.results||[])}catch(e){m("An unexpected error occurred"),c([])}finally{u(!1)}},[]);return(0,s.useEffect)(()=>{let t=null==e?void 0:e.get("q");t&&(r(t),x(t))},[e,x]),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Search Companies"}),(0,a.jsxs)("div",{className:"relative mb-8",children:[(0,a.jsx)("input",{type:"text",className:"w-full px-4 py-2 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by company name, registration number, or director",value:t,onChange:e=>{let t=e.target.value;r(t),x(t)},disabled:i}),(0,a.jsx)(d.Z,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),i&&(0,a.jsx)("div",{className:"flex justify-center my-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}),h&&(0,a.jsx)("div",{className:"bg-red-50 text-red-500 p-4 rounded-md mb-4",children:h}),!i&&!h&&(0,a.jsx)(o,{results:l}),!i&&t.length>=2&&0===l.length&&!h&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No companies found matching your search criteria"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(63793)),_N_E=e.O()}]);