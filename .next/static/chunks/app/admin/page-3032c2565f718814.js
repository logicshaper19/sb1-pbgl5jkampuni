(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{58366:(e,s,a)=>{Promise.resolve().then(a.bind(a,24797))},24797:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var t=a(57437),l=a(2265),i=a(35231),d=a(84478),n=a(28997),r=a(2842),c=a(9542),o=a(3956),x=(0,d.z)({chartName:"BarChart",GraphicalChild:n.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:r.K},{axisType:"yAxis",AxisComp:c.B}],formatAxisMap:o.t9}),h=a(54142),m=a(85475),p=a(20153);function j(){let[e,s]=(0,l.useState)(null),[a,d]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/admin/stats"),a=await e.json();s(a)}catch(e){console.error("Failed to fetch stats:",e)}finally{d(!1)}})()},[]),a)?(0,t.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e?(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-8",children:"Dashboard Overview"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Companies"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:e.totalCompanies})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Active Companies"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:e.activeCompanies})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Tenders"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:e.totalTenders})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Encumbrances"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:e.totalEncumbrances})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Company Registrations"}),(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(i.h,{width:"100%",height:"100%",children:(0,t.jsxs)(x,{data:e.recentActivity,children:[(0,t.jsx)(h.q,{strokeDasharray:"3 3"}),(0,t.jsx)(r.K,{dataKey:"date"}),(0,t.jsx)(c.B,{}),(0,t.jsx)(m.u,{}),(0,t.jsx)(p.D,{}),(0,t.jsx)(n.$,{dataKey:"companies",fill:"#3b82f6",name:"New Companies"})]})})})]})]}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[444,130,215,744],()=>s(58366)),_N_E=e.O()}]);