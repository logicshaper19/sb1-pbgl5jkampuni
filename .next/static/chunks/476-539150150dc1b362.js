"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{78030:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:s,...n,width:l,height:l,stroke:t,strokeWidth:i?24*Number(d)/Number(l):d,className:r("lucide",o),...u},[...m.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),i=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:i,...o}=t;return(0,a.createElement)(d,{ref:n,iconNode:s,className:r("lucide-".concat(l(e)),i),...o})});return t.displayName="".concat(e),t}},74232:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},24241:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},51077:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},49321:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},92513:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},29162:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},53225:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},36127:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},74697:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(78030).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},16463:(e,s,t)=>{var a=t(71169);t.o(a,"notFound")&&t.d(s,{notFound:function(){return a.notFound}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},66476:(e,s,t)=>{t.d(s,{$:()=>C});var a=t(57437),l=t(2265),r=t(16463),n=t(36127),d=t(74232),i=t(24241),o=t(49321),c=t(78030);let m=(0,c.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),u=(0,c.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var x=t(74697);let h=(0,c.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),b=(0,c.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),g=(0,c.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function p(e){let{directors:s,onChange:t}=e,l=e=>{let a=[...s];a.splice(e,1),t(a)},r=(e,a,l)=>{t(s.map((s,t)=>t===e?{...s,[a]:l}:s))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Directors"}),s.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Director ",s+1]}),(0,a.jsx)("button",{type:"button",onClick:()=>l(s),className:"text-red-500 hover:text-red-700",children:(0,a.jsx)(g,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{type:"text",value:e.name,onChange:e=>r(s,"name",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nationality"}),(0,a.jsx)("input",{type:"text",value:e.nationality,onChange:e=>r(s,"nationality",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,a.jsx)("input",{type:"text",value:e.role,onChange:e=>r(s,"role",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Shares"}),(0,a.jsx)("input",{type:"number",value:e.shares,onChange:e=>r(s,"shares",parseInt(e.target.value,10)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]},s)),(0,a.jsx)("button",{type:"button",onClick:()=>{t([...s,{id:"",name:"",nationality:"",role:"",shares:0}])},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Director"})]})}var f=t(92513),y=t(53225),v=t(51077),j=t(29162);let N=e=>{let{financials:s,onChange:t}=e,[r,d]=(0,l.useState)(null),o=e=>e.year&&e.revenue&&e.profit?e.year<1900||e.year>new Date().getFullYear()?(d("Invalid year"),!1):(d(null),!0):(d("Year, revenue and profit are required"),!1),c=e=>{t(s.filter((s,t)=>t!==e))},m=(e,a,l)=>{t(s.map((s,t)=>{if(t===e){let e={...s,[a]:["revenue","profit","employeeCount","year"].includes(a)?Number(l):l};return o(e),e}return s}))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Financial Results"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add or modify company financial records"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{let e=new Date().getFullYear();t([...s,{id:"temp-".concat(Date.now()),year:e,revenue:0,profit:0,employeeCount:0,notes:""}])},className:"flex items-center px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),"Add Financial Record"]})]}),r&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-red-400"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Validation Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:r})]})]})}),(0,a.jsx)("div",{className:"space-y-4",children:s.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Year"]})}),(0,a.jsx)("input",{type:"number",min:"1900",max:new Date().getFullYear(),value:e.year,onChange:e=>m(s,"year",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Revenue"]})}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(v.Z,{className:"h-4 w-4 text-gray-400"})}),(0,a.jsx)("input",{type:"number",min:"0",value:e.revenue,onChange:e=>m(s,"revenue",e.target.value),className:"block w-full pl-10 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Profit"]})}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(v.Z,{className:"h-4 w-4 text-gray-400"})}),(0,a.jsx)("input",{type:"number",value:e.profit,onChange:e=>m(s,"profit",e.target.value),className:"block w-full pl-10 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Count"}),(0,a.jsx)("input",{type:"number",min:"0",value:e.employeeCount,onChange:e=>m(s,"employeeCount",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"text",value:e.notes,onChange:e=>m(s,"notes",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Optional notes"}),(0,a.jsx)("button",{type:"button",onClick:()=>c(s),className:"ml-2 p-1 text-red-600 hover:text-red-800",title:"Remove financial record",children:(0,a.jsx)(g,{className:"w-4 h-4"})})]})]})]},e.id))})]})},w=e=>{let{tenders:s,onChange:t}=e,[r,o]=(0,l.useState)(null),c=e=>e.projectName&&e.governmentEntity&&e.amount?e.amount<0?(o("Amount cannot be negative"),!1):(o(null),!0):(o("All required fields must be filled"),!1),m=e=>{t(s.filter((s,t)=>t!==e))},u=(e,a,l)=>{t(s.map((s,t)=>{if(t===e){let e={...s,[a]:"amount"===a?parseFloat(l):l};return c(e),e}return s}))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Government Tenders"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add or modify government tender records"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{t([...s,{id:"temp-".concat(Date.now()),projectName:"",amount:0,awardDate:new Date().toISOString().split("T")[0],completionStatus:"AWARDED",governmentEntity:""}])},className:"flex items-center px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),"Add Tender"]})]}),r&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-red-400"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Validation Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:r})]})]})}),0===s.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,a.jsx)(d.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tenders"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new tender record"})]}):(0,a.jsx)("div",{className:"space-y-4",children:s.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Project Name"]})}),(0,a.jsx)("input",{type:"text",value:e.projectName,onChange:e=>u(s,"projectName",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Amount"]})}),(0,a.jsx)("input",{type:"number",min:"0",value:e.amount,onChange:e=>u(s,"amount",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Award Date"]})}),(0,a.jsx)("input",{type:"date",value:e.awardDate.split("T")[0],onChange:e=>u(s,"awardDate",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsxs)("select",{value:e.completionStatus,onChange:e=>u(s,"completionStatus",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"AWARDED",children:"Awarded"}),(0,a.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,a.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,a.jsx)("option",{value:"TERMINATED",children:"Terminated"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Government Entity"]})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"text",value:e.governmentEntity,onChange:e=>u(s,"governmentEntity",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,a.jsx)("button",{type:"button",onClick:()=>m(s),className:"ml-2 p-1 text-red-600 hover:text-red-800",title:"Remove tender",children:(0,a.jsx)(g,{className:"w-4 h-4"})})]})]})]},e.id))})]})},k=e=>{let{encumbrances:s,onChange:t}=e,[r,d]=(0,l.useState)(null),i=e=>e.type&&e.amount?e.amount<0?(d("Amount cannot be negative"),!1):(d(null),!0):(d("Type and amount are required"),!1),o=e=>{t(s.filter((s,t)=>t!==e))},c=(e,a,l)=>{t(s.map((s,t)=>{if(t===e){let e={...s,[a]:"amount"===a?parseFloat(l):l};return i(e),e}return s}))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Encumbrances"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add or modify company encumbrances and liens"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{t([...s,{id:"temp-".concat(Date.now()),type:"",amount:0,date:new Date().toISOString().split("T")[0],status:"ACTIVE",description:""}])},className:"flex items-center px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),"Add Encumbrance"]})]}),r&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-red-400"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Validation Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:r})]})]})}),s.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,a.jsxs)("select",{value:e.type,onChange:e=>c(s,"type",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select type"}),(0,a.jsx)("option",{value:"MORTGAGE",children:"Mortgage"}),(0,a.jsx)("option",{value:"LIEN",children:"Lien"}),(0,a.jsx)("option",{value:"CHARGE",children:"Charge"}),(0,a.jsx)("option",{value:"DEBENTURE",children:"Debenture"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,a.jsx)("input",{type:"number",min:"0",value:e.amount,onChange:e=>c(s,"amount",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,a.jsx)("input",{type:"date",value:e.date.split("T")[0],onChange:e=>c(s,"date",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsxs)("select",{value:e.status,onChange:e=>c(s,"status",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,a.jsx)("option",{value:"DISCHARGED",children:"Discharged"}),(0,a.jsx)("option",{value:"PENDING",children:"Pending"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"text",value:e.description,onChange:e=>c(s,"description",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Optional description"}),(0,a.jsx)("button",{type:"button",onClick:()=>o(s),className:"ml-2 p-1 text-red-600 hover:text-red-800",title:"Remove encumbrance",children:(0,a.jsx)(g,{className:"w-4 h-4"})})]})]})]},e.id))]})};function C(e){var s,t;let{initialData:c}=e,g=(0,r.useRouter)(),[f,y]=(0,l.useState)("details"),[v,j]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(null),[D,E]=(0,l.useState)(c||{name:"",registrationNumber:"",registrationDate:"",address:"",contactInfo:{email:"",phone:""},directors:[],financials:[],tenders:[],encumbrances:[]}),A=[{id:"details",label:"Company Details"},{id:"directors",label:"Directors"},{id:"financials",label:"Financials"},{id:"tenders",label:"Tenders"},{id:"encumbrances",label:"Encumbrances"}],M=async e=>{e.preventDefault(),j(!0),Z(null);try{let e=c?"/api/companies/".concat(c.id):"/api/companies",s=await fetch(e,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!s.ok)throw Error("Failed to save company");let t=await s.json();g.push("/companies/".concat(t.id))}catch(e){Z(e instanceof Error?e.message:"An error occurred")}finally{j(!1)}},S=(e,s)=>{E(t=>({...t,[e]:s}))},R=e=>{var s,t,a,l;switch(e){case"details":return!!(D.name&&D.registrationNumber);case"directors":return(null!==(t=null===(s=D.directors)||void 0===s?void 0:s.length)&&void 0!==t?t:0)>0;case"financials":return(null!==(l=null===(a=D.financials)||void 0===a?void 0:a.length)&&void 0!==l?l:0)>0;case"tenders":case"encumbrances":return!0;default:return!1}},T=R(f);return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("nav",{"aria-label":"Progress",children:(0,a.jsx)("ol",{className:"flex items-center",children:A.map((e,s)=>(0,a.jsxs)("li",{className:"relative ".concat(s!==A.length-1?"pr-8 sm:pr-20":""),children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>y(e.id),className:"relative flex h-8 w-8 items-center justify-center rounded-full ".concat(R(e.id)?"bg-blue-600 hover:bg-blue-700":f===e.id?"border-2 border-blue-600":"border-2 border-gray-300"),children:(0,a.jsx)("span",{className:"h-2.5 w-2.5 rounded-full ".concat(f===e.id?"bg-blue-600":"bg-transparent")})}),s!==A.length-1&&(0,a.jsx)("div",{className:"absolute top-4 w-full h-0.5 ".concat(R(e.id)?"bg-blue-600":"bg-gray-300")})]}),(0,a.jsx)("span",{className:"absolute -bottom-6 w-max text-sm font-medium text-gray-500",children:e.label})]},e.id))})})}),C&&(0,a.jsx)("div",{className:"mb-6 rounded-md bg-red-50 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-red-400"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:C})]})]})}),(0,a.jsxs)("form",{onSubmit:M,className:"space-y-8",children:["details"===f&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",id:"name",required:!0,value:D.name,onChange:e=>S("name",e.target.value),className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700",children:"Registration Number"}),(0,a.jsx)("input",{type:"text",id:"registrationNumber",required:!0,value:D.registrationNumber,onChange:e=>S("registrationNumber",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"registrationDate",className:"block text-sm font-medium text-gray-700",children:"Registration Date"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,a.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"date",id:"registrationDate",required:!0,value:D.registrationDate,onChange:e=>S("registrationDate",e.target.value),className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,a.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",id:"address",required:!0,value:D.address,onChange:e=>S("address",e.target.value),className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,a.jsx)(m,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"email",id:"email",required:!0,value:null===(s=D.contactInfo)||void 0===s?void 0:s.email,onChange:e=>S("contactInfo",{...D.contactInfo,email:e.target.value}),className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,a.jsx)(u,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"tel",id:"phone",required:!0,value:null===(t=D.contactInfo)||void 0===t?void 0:t.phone,onChange:e=>S("contactInfo",{...D.contactInfo,phone:e.target.value}),className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]})}),"directors"===f&&(0,a.jsx)(p,{directors:D.directors||[],onChange:e=>S("directors",e)}),"financials"===f&&(0,a.jsx)(N,{financials:D.financials||[],onChange:e=>S("financials",e)}),"tenders"===f&&(0,a.jsx)(w,{tenders:D.tenders||[],onChange:e=>S("tenders",e)}),"encumbrances"===f&&(0,a.jsx)(k,{encumbrances:D.encumbrances||[],onChange:e=>S("encumbrances",e)}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>g.back(),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[f!==A[0].id&&(0,a.jsx)("button",{type:"button",onClick:()=>{let e=A.findIndex(e=>e.id===f);y(A[e-1].id)},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),f!==A[A.length-1].id?(0,a.jsx)("button",{type:"button",onClick:()=>{let e=A.findIndex(e=>e.id===f);y(A[e+1].id)},disabled:!T,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):(0,a.jsx)("button",{type:"submit",disabled:v||!T,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{className:"h-4 w-4 mr-2"}),"Save Company"]})})]})]})]})]})}}}]);